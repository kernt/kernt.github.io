---
tags:
  - acme
  - lego
---
# DNS Providers

PKI Server = vmd134720

|   |   |   |   |
|---|---|---|---|
|[Akamai EdgeDNS](https://go-acme.github.io/lego/dns/edgedns/)|[Alibaba Cloud DNS](https://go-acme.github.io/lego/dns/alidns/)|[all-inkl](https://go-acme.github.io/lego/dns/allinkl/)|[Amazon Lightsail](https://go-acme.github.io/lego/dns/lightsail/)|
|[Amazon Route 53](https://go-acme.github.io/lego/dns/route53/)|[ArvanCloud](https://go-acme.github.io/lego/dns/arvancloud/)|[Aurora DNS](https://go-acme.github.io/lego/dns/auroradns/)|[Autodns](https://go-acme.github.io/lego/dns/autodns/)|
|[Azure (deprecated)](https://go-acme.github.io/lego/dns/azure/)|[Azure DNS](https://go-acme.github.io/lego/dns/azuredns/)|[Bindman](https://go-acme.github.io/lego/dns/bindman/)|[Bluecat](https://go-acme.github.io/lego/dns/bluecat/)|
|[Brandit](https://go-acme.github.io/lego/dns/brandit/)|[Bunny](https://go-acme.github.io/lego/dns/bunny/)|[Checkdomain](https://go-acme.github.io/lego/dns/checkdomain/)|[Civo](https://go-acme.github.io/lego/dns/civo/)|
|[Cloud.ru](https://go-acme.github.io/lego/dns/cloudru/)|[CloudDNS](https://go-acme.github.io/lego/dns/clouddns/)|[Cloudflare](https://go-acme.github.io/lego/dns/cloudflare/)|[ClouDNS](https://go-acme.github.io/lego/dns/cloudns/)|
|[CloudXNS](https://go-acme.github.io/lego/dns/cloudxns/)|[ConoHa](https://go-acme.github.io/lego/dns/conoha/)|[Constellix](https://go-acme.github.io/lego/dns/constellix/)|[CPanel/WHM](https://go-acme.github.io/lego/dns/cpanel/)|
|[Derak Cloud](https://go-acme.github.io/lego/dns/derak/)|[deSEC.io](https://go-acme.github.io/lego/dns/desec/)|[Designate DNSaaS for Openstack](https://go-acme.github.io/lego/dns/designate/)|[Digital Ocean](https://go-acme.github.io/lego/dns/digitalocean/)|
|[DNS Made Easy](https://go-acme.github.io/lego/dns/dnsmadeeasy/)|[dnsHome.de](https://go-acme.github.io/lego/dns/dnshomede/)|[DNSimple](https://go-acme.github.io/lego/dns/dnsimple/)|[DNSPod (deprecated)](https://go-acme.github.io/lego/dns/dnspod/)|
|[Domain Offensive (do.de)](https://go-acme.github.io/lego/dns/dode/)|[Domeneshop](https://go-acme.github.io/lego/dns/domeneshop/)|[DreamHost](https://go-acme.github.io/lego/dns/dreamhost/)|[Duck DNS](https://go-acme.github.io/lego/dns/duckdns/)|
|[Dyn](https://go-acme.github.io/lego/dns/dyn/)|[Dynu](https://go-acme.github.io/lego/dns/dynu/)|[EasyDNS](https://go-acme.github.io/lego/dns/easydns/)|[Efficient IP](https://go-acme.github.io/lego/dns/efficientip/)|
|[Epik](https://go-acme.github.io/lego/dns/epik/)|[Exoscale](https://go-acme.github.io/lego/dns/exoscale/)|[External program](https://go-acme.github.io/lego/dns/exec/)|[freemyip.com](https://go-acme.github.io/lego/dns/freemyip/)|
|[G-Core](https://go-acme.github.io/lego/dns/gcore/)|[Gandi Live DNS (v5)](https://go-acme.github.io/lego/dns/gandiv5/)|[Gandi](https://go-acme.github.io/lego/dns/gandi/)|[Glesys](https://go-acme.github.io/lego/dns/glesys/)|
|[Go Daddy](https://go-acme.github.io/lego/dns/godaddy/)|[Google Cloud](https://go-acme.github.io/lego/dns/gcloud/)|[Google Domains](https://go-acme.github.io/lego/dns/googledomains/)|[Hetzner](https://go-acme.github.io/lego/dns/hetzner/)|
|[Hosting.de](https://go-acme.github.io/lego/dns/hostingde/)|[Hosttech](https://go-acme.github.io/lego/dns/hosttech/)|[HTTP request](https://go-acme.github.io/lego/dns/httpreq/)|[http.net](https://go-acme.github.io/lego/dns/httpnet/)|
|[Hurricane Electric DNS](https://go-acme.github.io/lego/dns/hurricane/)|[HyperOne](https://go-acme.github.io/lego/dns/hyperone/)|[IBM Cloud (SoftLayer)](https://go-acme.github.io/lego/dns/ibmcloud/)|[IIJ DNS Platform Service](https://go-acme.github.io/lego/dns/iijdpf/)|
|[Infoblox](https://go-acme.github.io/lego/dns/infoblox/)|[Infomaniak](https://go-acme.github.io/lego/dns/infomaniak/)|[Internet Initiative Japan](https://go-acme.github.io/lego/dns/iij/)|[Internet.bs](https://go-acme.github.io/lego/dns/internetbs/)|
|[INWX](https://go-acme.github.io/lego/dns/inwx/)|[Ionos](https://go-acme.github.io/lego/dns/ionos/)|[IPv64](https://go-acme.github.io/lego/dns/ipv64/)|[iwantmyname](https://go-acme.github.io/lego/dns/iwantmyname/)|
|[Joker](https://go-acme.github.io/lego/dns/joker/)|[Joohoi's ACME-DNS](https://go-acme.github.io/lego/dns/acme-dns/)|[Liara](https://go-acme.github.io/lego/dns/liara/)|[Linode (v4)](https://go-acme.github.io/lego/dns/linode/)|
|[Liquid Web](https://go-acme.github.io/lego/dns/liquidweb/)|[Loopia](https://go-acme.github.io/lego/dns/loopia/)|[LuaDNS](https://go-acme.github.io/lego/dns/luadns/)|[Manual](https://go-acme.github.io/lego/dns/manual/)|
|[Metaname](https://go-acme.github.io/lego/dns/metaname/)|[MyDNS.jp](https://go-acme.github.io/lego/dns/mydnsjp/)|[MythicBeasts](https://go-acme.github.io/lego/dns/mythicbeasts/)|[Name.com](https://go-acme.github.io/lego/dns/namedotcom/)|
|[Namecheap](https://go-acme.github.io/lego/dns/namecheap/)|[Namesilo](https://go-acme.github.io/lego/dns/namesilo/)|[NearlyFreeSpeech.NET](https://go-acme.github.io/lego/dns/nearlyfreespeech/)|[Netcup](https://go-acme.github.io/lego/dns/netcup/)|
|[Netlify](https://go-acme.github.io/lego/dns/netlify/)|[Nicmanager](https://go-acme.github.io/lego/dns/nicmanager/)|[NIFCloud](https://go-acme.github.io/lego/dns/nifcloud/)|[Njalla](https://go-acme.github.io/lego/dns/njalla/)|
|[Nodion](https://go-acme.github.io/lego/dns/nodion/)|[NS1](https://go-acme.github.io/lego/dns/ns1/)|[Open Telekom Cloud](https://go-acme.github.io/lego/dns/otc/)|[Oracle Cloud](https://go-acme.github.io/lego/dns/oraclecloud/)|
|[OVH](https://go-acme.github.io/lego/dns/ovh/)|[plesk.com](https://go-acme.github.io/lego/dns/plesk/)|[Porkbun](https://go-acme.github.io/lego/dns/porkbun/)|[PowerDNS](https://go-acme.github.io/lego/dns/pdns/)|
|[Rackspace](https://go-acme.github.io/lego/dns/rackspace/)|[RcodeZero](https://go-acme.github.io/lego/dns/rcodezero/)|[reg.ru](https://go-acme.github.io/lego/dns/regru/)|[RFC2136](https://go-acme.github.io/lego/dns/rfc2136/)|
|[RimuHosting](https://go-acme.github.io/lego/dns/rimuhosting/)|[Sakura Cloud](https://go-acme.github.io/lego/dns/sakuracloud/)|[Scaleway](https://go-acme.github.io/lego/dns/scaleway/)|[Selectel](https://go-acme.github.io/lego/dns/selectel/)|
|[Servercow](https://go-acme.github.io/lego/dns/servercow/)|[Simply.com](https://go-acme.github.io/lego/dns/simply/)|[Sonic](https://go-acme.github.io/lego/dns/sonic/)|[Stackpath](https://go-acme.github.io/lego/dns/stackpath/)|
|[Tencent Cloud DNS](https://go-acme.github.io/lego/dns/tencentcloud/)|[TransIP](https://go-acme.github.io/lego/dns/transip/)|[UKFast SafeDNS](https://go-acme.github.io/lego/dns/safedns/)|[Ultradns](https://go-acme.github.io/lego/dns/ultradns/)|
|[Variomedia](https://go-acme.github.io/lego/dns/variomedia/)|[VegaDNS](https://go-acme.github.io/lego/dns/vegadns/)|[Vercel](https://go-acme.github.io/lego/dns/vercel/)|[Versio.[nl/eu/uk]](https://go-acme.github.io/lego/dns/versio/)|
|[VinylDNS](https://go-acme.github.io/lego/dns/vinyldns/)|[VK Cloud](https://go-acme.github.io/lego/dns/vkcloud/)|[Vscale](https://go-acme.github.io/lego/dns/vscale/)|[Vultr](https://go-acme.github.io/lego/dns/vultr/)|
|[Webnames](https://go-acme.github.io/lego/dns/webnames/)|[Websupport](https://go-acme.github.io/lego/dns/websupport/)|[WEDOS](https://go-acme.github.io/lego/dns/wedos/)|[Yandex 360](https://go-acme.github.io/lego/dns/yandex360/)|
|[Yandex Cloud](https://go-acme.github.io/lego/dns/yandexcloud/)|[Yandex PDD](https://go-acme.github.io/lego/dns/yandex/)|[Zone.ee](https://go-acme.github.io/lego/dns/zoneee/)|[Zonomi](https://go-acme.github.io/lego/dns/zonomi/)|
# DNS Provider INWX Zertifikate anlegen

export INWX_PASSWORD="{{ ACME_INWX_PASSWORD }}"
export INWX_USERNAME=tobkern

```sh
export INWX_PASSWORD="{{ ACME_INWX_PASSWORD }}"
export INWX_USERNAME=tobkern
$(type -p lego) --email="tobkern1980@gmail.com" --dns inwx --domains="*.tuxsupport.de" run && ls -1 ~/.lego/certificates
ls -1 ./.lego/certificates
```

**normal Certs**

```sh
$(type -p lego) --email="tobkern1980@gmail.com" --domains="vmd47205.contaboserver.net" --http run

$(type -p lego) --email="tobkern1980@gmail.com" --domains="tuxsupport.de" --http run

$(type -p lego) --email="tobkern1980@gmail.com" --domains="*.tuxsupport.de" --http run

```

**renew cert**

```sh
#!/bin/bash
export INWX_PASSWORD="{{ ACME_INWX_PASSWORD }}"
export INWX_USERNAME=tobkern
$(type -p lego) --email="tobkern1980@gmail.com" --dns inwx --domains="*.tuxsupport.de" renew
```

**systemctl Service**

```sh
[Unit]
Description=Lets Encrypt client and ACME library written in Go

[Service]
EnvironmentFile=/etc/default/lego
WorkingDirectory=/root
ExecStart=/usr/bin/lego --path . -s ${SERVER} -m ${EMAIL} -d ${DOMAIN} $ARGS renew --renew-hook ${HOOK}
Type=oneshot
```

```sh
[Unit]
Description=Run lego dayley

[Timer]
#OnBootSec=15min
OnUnitActiveSec=1w
Persistent=true
# avoid:
#OnCalendar=*-*-* 00:00:00
OnCalendar=daily
# instead, use a randomly chosen time:
OnCalendar=*-*-* 3:35
# add extra delay, here up to 1 hour:
RandomizedDelaySec=1h

[Install]
WantedBy=timers.target
```
## Systemd timer for [lego](https://github.com/go-acme/lego)

Place `lego.service` and `lego.service` in `/etc/systemd/system`. 
Place `config` in `/var/lib/lego` and `nginx-example.com.sh` in `/var/lib/lego/scripts`.
You should modify `config` and `nginx-example.com.sh`. 
Finally execute `sudo systemctl enable lego.timer`.

Lego's files are stored in `/var/lib/lego`. You need to create this directory and use `lego ... run` to create acme account.

I'm using DNS challenge and didn't test HTTP challenge. Please tell me if it works.

**config lego_renew.sh**

```sh
SERVER="https://acme-v02.api.letsencrypt.org/directory"
EMAIL="tobkern1980@gmail.com"
export INWX_PASSWORD=""
export INWX_USERNAME=tobkern
DOMAIN="*.tuxsupport.de"
HOOK="/etc/lego/scripts/nginx-example.com.sh"
ARGS="--dns inwx"
```

**lego.service**

```sh
[Unit]
Description=Lets Encrypt client and ACME library written in Go

[Service]
Type=simple
WorkingDirectory=%h
User=tobkern
Group=tobkern 
ExecStart=/home/tobkern/lego_renew.sh
Type=oneshot
```

**lego crontab**

_lego.timer_

```sh
[Unit]
Description=Lets Encrypt client and ACME library written in Go

[Timer]
OnCalendar=daily
RandomizedDelaySec=30m
Unit=lego.service
Persistent=true

[Install]
WantedBy=timers.target
```

**nginx-example.com.sh**

```
#!/bin/sh

CERT_PATH=/etc/nginx/ssl/example.com.crt
CERT_KEY_PATH=/etc/nginx/ssl/example.com.key

cat "${PWD}/${LEGO_CERT_PATH}" > "${CERT_PATH}"
cat "${PWD}/${LEGO_CERT_KEY_PATH}" > "${CERT_KEY_PATH}"

systemctl reload nginx.service

```
## einrichten crontab

**lego_renew.sh**

```sh
#!/bin/bash
export INWX_PASSWORD=""
export INWX_USERNAME=tobkern 
cd $HOME

/usr/bin/lego --email="tobkern1980@gmail.com" --dns inwx --domains="*.tuxsupport.de" renew --renew-hook ./lego_hook.sh
```

**lego_hook.sh**

logrotate

**lego**

```
/var/log/lego.log {
  rotate 12
  monthly
  compress
  missingok
  notifempty
}
```

[obtain-a-certificate](https://go-acme.github.io/lego/usage/cli/obtain-a-certificate/)
## Lego mit snap

```sh
cd /var/snap/lego/common/
cd .lego/
scp -r ./certificates/ tobkern@vmd47205.contaboserver.net:/home/tobkern/certs/
scp -r ./certificates/ tobkern@vmd132643.contaboserver.net:/home/tobkern/certs/
pull_root_cert
```

```sh
#!/bin/bash
scp -r /home/tobkern/ tobkern@vmd134720.tuxsupport.de:/var/snap/lego/common/.lego/certificates/ 
```

--pem Generate an additional .pem (base64) file by concatenating the .key and .crt files together. (default: false)
   --key-type value, -k value                                   Key type to use for private keys. Supported: rsa2048, rsa3072, rsa4096, rsa8192, ec256, ec384. (default: "ec256")